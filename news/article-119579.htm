<!DOCTYPE html>
<html xml:lang="zh-CN" lang="zh-CN">

<head>
    	<link rel="canonical" href="https://vpnbaike.github.io/news/article-119579.htm" />
	<!-- basic -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<!-- mobile metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<!-- site metas -->
	<title>Ubuntu 上玩转 Clash 旁路由：从入门到精通的全流程指南</title>
		<meta name="description" content="在当今信息管控日益严格的网络环境下，"科学上网"已经不仅仅是程序员或极客的专属技能，它逐渐成为每一位有获取信息自由需求的普通用户的重要能力。而在 Linux 用户圈中，Ubuntu 凭借其稳定性与用户" />
	
    <meta name="author" content="VPN百科 订阅教程网">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://vpnbaike.github.io/news/article-119579.htm" />
    <meta property="og:site_name" content="VPN百科 订阅教程网" />
    <meta property="og:title" content="Ubuntu 上玩转 Clash 旁路由：从入门到精通的全流程指南" />
    <meta property="og:image" content="https://vpnbaike.github.io/uploads/20240323/c4695008c4879510e450301ea516b067.webp" />
        <meta property="og:release_date" content="2025-05-29T09:21:24" />
    <meta property="og:updated_time" content="2025-05-29T09:21:24" />
        <meta property="og:description" content="在当今信息管控日益严格的网络环境下，"科学上网"已经不仅仅是程序员或极客的专属技能，它逐渐成为每一位有获取信息自由需求的普通用户的重要能力。而在 Linux 用户圈中，Ubuntu 凭借其稳定性与用户" />
        
	<!-- bootstrap css -->
	<link rel="stylesheet" type="text/css" href="/assets/website/css/clashnodesfree/bootstrap.min.css">
	<!-- style css -->
	<link rel="stylesheet" type="text/css" href="/assets/website/css/clashnodesfree/style.css">
	<!-- Responsive-->
	<link rel="stylesheet" href="/assets/website/css/clashnodesfree/responsive.css">
	<!-- favicon -->
	<link rel="icon" href="/assets/website/img/clashnodesfree/favicon.ico" type="image/x-icon"/>
	<!-- Scrollbar Custom CSS -->
	<link rel="stylesheet" href="/assets/website/css/clashnodesfree/jquery.mCustomScrollbar.min.css">
	<!-- Tweaks for older IEs-->
	<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
	<link rel="stylesheet" href="/assets/website/css/G.css" />
	<!-- fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;800&family=Sen:wght@400;700;800&display=swap" rel="stylesheet">

    <meta name="applicable-device" content="pc,mobile" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Ubuntu 上玩转 Clash 旁路由：从入门到精通的全流程指南">
    <meta name="format-detection" content="telephone=no">

    <link rel="dns-prefetch" href="https:/www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googleadservices.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="https://cm.g.doubleclick.net">
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GG15K922S1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GG15K922S1');
</script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854" crossorigin="anonymous"></script>
</head>

<body data-page="detail">
    <!-- header section start -->
    <div class="header_section header_bg">
        <div class="container-fluid">
                        <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="logo">
                                        <a href="/">VPN百科</a>
                                    </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                                                <li class="nav-item">
                            <a class="nav-link" href="/">首页</a>
                        </li>
                                                <li class="nav-item">
                            <a class="nav-link" href="/paid-subscribe/">推荐机场</a>
                        </li>
                                                <li class="nav-item">
                            <a class="nav-link" href="/news/">新闻资讯</a>
                        </li>
                                                <li class="nav-item">
                            <a class="nav-link" href="/client.htm">客户端</a>
                        </li>
                                            </ul>
                </div>
            </nav>
        </div>
    </div>
    <!-- header section end -->
    <!-- about sectuion start -->
    <div class="about_section layout_padding">
        <div class="container">
            <div class="breadcrumb">
              <a href="/">首页</a> / 
              <a href="/news/">新闻资讯</a> / 
              <span>正文</span>
            </div>

            <div class="row">
                <div class="col-md-9">
                    <h1 class="services_taital mb-5">Ubuntu 上玩转 Clash 旁路由：从入门到精通的全流程指南</h1>
                                    <input type="hidden" id="share-website-info" data-name="Clash Node官网订阅站" data-url="https://clashnode.github.io">
                <div class="xcblog-blog-detail xcblog-blog-detail-defined">
                    
<p data-start="37" data-end="221">在当今信息管控日益严格的网络环境下，"科学上网"已经不仅仅是程序员或极客的专属技能，它逐渐成为每一位有获取信息自由需求的普通用户的重要能力。而在 Linux 用户圈中，Ubuntu 凭借其稳定性与用户友好界面，占据了极大份额。而当我们提及旁路由 + Clash 的组合时，其实是将灵活的代理控制与系统底层的路由能力完美结合，为用户带来更自由、更安全、更高效的上网体验。</p>
<p data-start="223" data-end="305">本文将从零开始，手把手带你配置 Ubuntu 上的 Clash 并实现旁路由功能，无论你是 Linux 新手，还是网络优化高手，都能从中获得系统性的理解与实践经验。</p>
<hr data-start="307" data-end="310">
<h2 data-start="312" data-end="332">一、什么是旁路由？为什么值得一试？</h2>
<h3 data-start="334" data-end="347">1. 旁路由的定义</h3>
<p data-start="349" data-end="450">简单来说，旁路由（Bypass Routing）是一种通过将一部分或全部网络流量重定向到代理服务器，从而绕过主路由器的网络设置方式。相比传统的全局 VPN，旁路由不仅具备高自由度，而且更安全、可控性强。</p>
<p data-start="452" data-end="534">你可以将 Ubuntu 设备部署为旁路由节点，监听家庭局域网内其他设备的流量并根据规则进行代理转发——这一点对于需要访问国外网站或加速某些被限制服务来说，非常实用。</p>
<h3 data-start="536" data-end="555">2. 为什么使用 Clash？</h3>
<p data-start="557" data-end="589">Clash 是目前最流行的多协议代理客户端之一，其核心优势包括：</p>
<ul data-start="591" data-end="754">
<li data-start="591" data-end="639">
<p data-start="593" data-end="639"><strong data-start="593" data-end="603">支持多种协议</strong>：如 Vmess、Shadowsocks、Trojan、Snell 等。</p>
</li>
<li data-start="640" data-end="674">
<p data-start="642" data-end="674"><strong data-start="642" data-end="650">配置灵活</strong>：基于 YAML 文件的规则控制，轻松实现分流。</p>
</li>
<li data-start="675" data-end="727">
<p data-start="677" data-end="727"><strong data-start="677" data-end="687">跨平台能力强</strong>：可运行于 Windows、macOS、Linux、Android 等操作系统。</p>
</li>
<li data-start="728" data-end="754">
<p data-start="730" data-end="754"><strong data-start="730" data-end="738">社区活跃</strong>：持续维护更新，文档与教程丰富。</p>
</li>
</ul>
<hr data-start="756" data-end="759">
<h2 data-start="761" data-end="779">二、Ubuntu 系统准备工作</h2>
<p data-start="781" data-end="818">在正式安装 Clash 之前，请确保你的 Ubuntu 环境满足以下要求：</p>
<ul data-start="820" data-end="953">
<li data-start="820" data-end="861">
<p data-start="822" data-end="861"><strong data-start="822" data-end="832">操作系统版本</strong>：建议使用 Ubuntu 20.04 LTS 或更高版本；</p>
</li>
<li data-start="862" data-end="906">
<p data-start="864" data-end="906"><strong data-start="864" data-end="874">网络连接正常</strong>：确保可以访问 Github 或使用代理加速器下载 Clash；</p>
</li>
<li data-start="907" data-end="953">
<p data-start="909" data-end="953"><strong data-start="909" data-end="923">具备基础终端操作能力</strong>：了解 <code data-start="927" data-end="931">cd</code>、<code data-start="932" data-end="938">wget</code>、<code data-start="939" data-end="946">chmod</code> 等命令用法。</p>
</li>
</ul>
<hr data-start="955" data-end="958">
<h2 data-start="960" data-end="983">三、在 Ubuntu 上安装 Clash</h2>
<h3 data-start="985" data-end="1004">Step 1：更新系统包管理器</h3>
<p data-start="1006" data-end="1027">在终端中运行以下命令更新系统依赖与软件库：</p>
<pre class="overflow-visible!" data-start="1029" data-end="1079"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo apt update &amp;&amp; sudo apt upgrade -y
</span></span></code></div></div></pre>
<h3 data-start="1081" data-end="1106">Step 2：下载 Clash 可执行文件</h3>
<p data-start="1108" data-end="1188">访问 Clash 官方 GitHub 发布页（<a data-start="1131" data-end="1188" rel="noopener" target="_new" class="" href="https://github.com/Dreamacro/clash/releases%EF%BC%89%EF%BC%8C%E5%A4%8D%E5%88%B6%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5%E3%80%82">https://github.com/Dreamacro/clash/releases），复制最新版本的下载链接。</a></p>
<p data-start="1190" data-end="1203">以 AMD64 架构为例：</p>
<pre class="overflow-visible!" data-start="1205" data-end="1311"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>wget https://github.com/Dreamacro/clash/releases/download/v1.18.0/clash-linux-amd64-v1.18.0.gz
</span></span></code></div></div></pre>
<h3 data-start="1313" data-end="1329">Step 3：解压并安装</h3>
<pre class="overflow-visible!" data-start="1331" data-end="1459"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>gzip -d clash-linux-amd64-v1.18.0.gz
</span><span><span class="hljs-built_in">mv</span></span><span> clash-linux-amd64-v1.18.0 /usr/local/bin/clash
</span><span><span class="hljs-built_in">chmod</span></span><span> +x /usr/local/bin/clash
</span></span></code></div></div></pre>
<h3 data-start="1461" data-end="1480">Step 4：确认安装是否成功</h3>
<pre class="overflow-visible!" data-start="1482" data-end="1502"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>clash -v
</span></span></code></div></div></pre>
<p data-start="1504" data-end="1522">如果终端输出版本信息，说明安装完成。</p>
<hr data-start="1524" data-end="1527">
<h2 data-start="1529" data-end="1551">四、创建并配置 Clash 的配置文件</h2>
<p data-start="1553" data-end="1620">Clash 的强大之处在于其高度可定制的配置文件，格式为 YAML，位于 <code data-start="1590" data-end="1619">~/.config/clash/config.yaml</code>。</p>
<h3 data-start="1622" data-end="1642">Step 1：新建配置目录与文件</h3>
<pre class="overflow-visible!" data-start="1644" data-end="1715"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-built_in">mkdir</span></span><span> -p ~/.config/clash/
</span><span><span class="hljs-built_in">touch</span></span><span> ~/.config/clash/config.yaml
</span></span></code></div></div></pre>
<h3 data-start="1717" data-end="1740">Step 2：编辑配置文件（基础模板）</h3>
<p data-start="1742" data-end="1760">使用任意文本编辑器编辑该文件，例如：</p>
<pre class="overflow-visible!" data-start="1762" data-end="1806"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>nano ~/.config/clash/config.yaml
</span></span></code></div></div></pre>
<p data-start="1808" data-end="1820">你可以使用如下基础配置：</p>
<pre class="overflow-visible!" data-start="1822" data-end="2232"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">yaml</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-yaml"><span><span><span class="hljs-attr">port:</span></span><span> </span><span><span class="hljs-number">7890</span></span><span>
</span><span><span class="hljs-attr">socks-port:</span></span><span> </span><span><span class="hljs-number">7891</span></span><span>
</span><span><span class="hljs-attr">allow-lan:</span></span><span> </span><span><span class="hljs-literal">true</span></span><span>
</span><span><span class="hljs-attr">mode:</span></span><span> </span><span><span class="hljs-string">rule</span></span><span>
</span><span><span class="hljs-attr">log-level:</span></span><span> </span><span><span class="hljs-string">info</span></span><span>

</span><span><span class="hljs-attr">proxies:</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-attr">name:</span></span><span> </span><span><span class="hljs-string">"节点1"</span></span><span>
    </span><span><span class="hljs-attr">type:</span></span><span> </span><span><span class="hljs-string">vmess</span></span><span>
    </span><span><span class="hljs-attr">server:</span></span><span> </span><span><span class="hljs-string">example.com</span></span><span>
    </span><span><span class="hljs-attr">port:</span></span><span> </span><span><span class="hljs-number">443</span></span><span>
    </span><span><span class="hljs-attr">uuid:</span></span><span> </span><span><span class="hljs-string">你的UUID</span></span><span>
    </span><span><span class="hljs-attr">alterId:</span></span><span> </span><span><span class="hljs-number">0</span></span><span>
    </span><span><span class="hljs-attr">cipher:</span></span><span> </span><span><span class="hljs-string">auto</span></span><span>
    </span><span><span class="hljs-attr">tls:</span></span><span> </span><span><span class="hljs-literal">true</span></span><span>

</span><span><span class="hljs-attr">proxy-groups:</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-attr">name:</span></span><span> </span><span><span class="hljs-string">"自动选择"</span></span><span>
    </span><span><span class="hljs-attr">type:</span></span><span> </span><span><span class="hljs-string">select</span></span><span>
    </span><span><span class="hljs-attr">proxies:</span></span><span>
      </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-string">"节点1"</span></span><span>

</span><span><span class="hljs-attr">rules:</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-string">DOMAIN-SUFFIX,google.com,自动选择</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-string">DOMAIN-KEYWORD,youtube,自动选择</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-string">GEOIP,CN,DIRECT</span></span><span>
  </span><span><span class="hljs-bullet">-</span></span><span> </span><span><span class="hljs-string">MATCH,自动选择</span></span><span>
</span></span></code></div></div></pre>
<p data-start="2234" data-end="2237">说明：</p>
<ul data-start="2239" data-end="2355">
<li data-start="2239" data-end="2286">
<p data-start="2241" data-end="2286"><code data-start="2241" data-end="2247">port</code> 与 <code data-start="2250" data-end="2262">socks-port</code> 分别为 HTTP 与 SOCKS5 监听端口；</p>
</li>
<li data-start="2287" data-end="2309">
<p data-start="2289" data-end="2309"><code data-start="2289" data-end="2298">proxies</code> 是你使用的节点信息；</p>
</li>
<li data-start="2310" data-end="2335">
<p data-start="2312" data-end="2335"><code data-start="2312" data-end="2326">proxy-groups</code> 可实现策略路由；</p>
</li>
<li data-start="2336" data-end="2355">
<p data-start="2338" data-end="2355"><code data-start="2338" data-end="2345">rules</code> 定义流量分流方式。</p>
</li>
</ul>
<hr data-start="2357" data-end="2360">
<h2 data-start="2362" data-end="2378">五、启动 Clash 服务</h2>
<p data-start="2380" data-end="2397">运行 Clash 并指定配置目录：</p>
<pre class="overflow-visible!" data-start="2399" data-end="2436"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>clash -d ~/.config/clash/
</span></span></code></div></div></pre>
<p data-start="2438" data-end="2506">终端会持续输出连接日志，显示监听端口、当前连接、日志等级等信息。如果提示监听 <code data-start="2477" data-end="2484">:7890</code> 和 <code data-start="2487" data-end="2494">:7891</code> 成功，说明服务已启动。</p>
<hr data-start="2508" data-end="2511">
<h2 data-start="2513" data-end="2525">六、设置旁路由代理</h2>
<p data-start="2527" data-end="2562">现在 Clash 服务已运行，我们还需设置系统或局域网设备的网络代理：</p>
<h3 data-start="2564" data-end="2578">1. 本地浏览器配置</h3>
<p data-start="2580" data-end="2610">在浏览器设置中，将 HTTP 与 SOCKS5 代理设置为：</p>
<pre class="overflow-visible!" data-start="2612" data-end="2661"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">makefile</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre!"><span><span><span class="hljs-section">IP: 127.0.0.1</span></span><span>
</span><span><span class="hljs-section">HTTP端口: 7890</span></span><span>
</span><span><span class="hljs-section">SOCKS5端口: 7891</span></span><span>
</span></span></code></div></div></pre>
<h3 data-start="2663" data-end="2674">2. 网络测试</h3>
<p data-start="2676" data-end="2703">使用 curl 命令测试是否成功通过代理访问外部网络：</p>
<pre class="overflow-visible!" data-start="2705" data-end="2772"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>curl -x socks5h://127.0.0.1:7891 https://www.google.com
</span></span></code></div></div></pre>
<p data-start="2774" data-end="2795">若返回 HTML 内容，说明代理设置成功。</p>
<h3 data-start="2797" data-end="2811">3. 旁路由扩展思路</h3>
<p data-start="2813" data-end="2846">如果你希望 Ubuntu 作为旁路由节点为整个局域网提供代理服务：</p>
<ul data-start="2848" data-end="2946">
<li data-start="2848" data-end="2873">
<p data-start="2850" data-end="2873">将 <code data-start="2852" data-end="2869">allow-lan: true</code> 开启；</p>
</li>
<li data-start="2874" data-end="2897">
<p data-start="2876" data-end="2897">使用路由器将网关指向 Ubuntu IP；</p>
</li>
<li data-start="2898" data-end="2946">
<p data-start="2900" data-end="2946">或者安装 <strong data-start="2905" data-end="2935">iptables + dnsmasq + ipset</strong> 实现局域网透明代理。</p>
</li>
</ul>
<hr data-start="2948" data-end="2951">
<h2 data-start="2953" data-end="2969">七、常见问题解答（FAQ）</h2>
<h3 data-start="2971" data-end="2993">Q1：为什么 Clash 无法启动？</h3>
<p data-start="2995" data-end="3001">可能的原因：</p>
<ul data-start="3002" data-end="3059">
<li data-start="3002" data-end="3031">
<p data-start="3004" data-end="3031">权限不正确，尝试执行 <code data-start="3015" data-end="3031">chmod +x clash</code></p>
</li>
<li data-start="3032" data-end="3059">
<p data-start="3034" data-end="3059">配置文件语法错误，建议使用 YAML 校验工具检查</p>
</li>
</ul>
<h3 data-start="3061" data-end="3081">Q2：Clash 支持哪些协议？</h3>
<p data-start="3083" data-end="3096">Clash 支持如下协议：</p>
<ul data-start="3098" data-end="3182">
<li data-start="3098" data-end="3120">
<p data-start="3100" data-end="3120">Shadowsocks（AEAD 系列）</p>
</li>
<li data-start="3121" data-end="3150">
<p data-start="3123" data-end="3150">Vmess（推荐使用 V2RayN/V2Fly 生成）</p>
</li>
<li data-start="3151" data-end="3159">
<p data-start="3153" data-end="3159">Trojan</p>
</li>
<li data-start="3160" data-end="3167">
<p data-start="3162" data-end="3167">Snell</p>
</li>
<li data-start="3168" data-end="3182">
<p data-start="3170" data-end="3182">Socks5（作为中继）</p>
</li>
</ul>
<h3 data-start="3184" data-end="3204">Q3：如何开机自启 Clash？</h3>
<p data-start="3206" data-end="3228">可使用 systemd 创建服务，示例如下：</p>
<pre class="overflow-visible!" data-start="3230" data-end="3285"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo nano /etc/systemd/system/clash.service
</span></span></code></div></div></pre>
<p data-start="3287" data-end="3292">内容如下：</p>
<pre class="overflow-visible!" data-start="3294" data-end="3486"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">ini</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-ini"><span><span><span class="hljs-section">[Unit]</span></span><span>
</span><span><span class="hljs-attr">Description</span></span><span>=Clash Daemon
</span><span><span class="hljs-attr">After</span></span><span>=network.target

</span><span><span class="hljs-section">[Service]</span></span><span>
</span><span><span class="hljs-attr">ExecStart</span></span><span>=/usr/local/bin/clash -d /home/你的用户名/.config/clash/
</span><span><span class="hljs-attr">Restart</span></span><span>=</span><span><span class="hljs-literal">on</span></span><span>-failure

</span><span><span class="hljs-section">[Install]</span></span><span>
</span><span><span class="hljs-attr">WantedBy</span></span><span>=multi-user.target
</span></span></code></div></div></pre>
<p data-start="3488" data-end="3494">保存后执行：</p>
<pre class="overflow-visible!" data-start="3496" data-end="3562"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none rounded-t-[5px]">bash</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-sidebar-surface-primary text-token-text-secondary dark:bg-token-main-surface-secondary flex items-center rounded-sm px-2 font-sans text-xs"><span class="" data-state="closed"></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo systemctl </span><span><span class="hljs-built_in">enable</span></span><span> clash
sudo systemctl start clash
</span></span></code></div></div></pre>
<hr data-start="3564" data-end="3567">
<h2 data-start="3569" data-end="3580">八、拓展功能推荐</h2>
<ul data-start="3582" data-end="3744">
<li data-start="3582" data-end="3661">
<p data-start="3584" data-end="3661">使用 <a data-start="3587" data-end="3653" rel="noopener" target="_new" class="" href="https://github.com/Dreamacro/clash-dashboard">Clash Dashboard UI</a> 美化前端操作；</p>
</li>
<li data-start="3662" data-end="3692">
<p data-start="3664" data-end="3692">使用 Clash.Meta 支持 Reality 协议；</p>
</li>
<li data-start="3693" data-end="3721">
<p data-start="3695" data-end="3721">配合 Surge、Stash 等 App 同步规则；</p>
</li>
<li data-start="3722" data-end="3744">
<p data-start="3724" data-end="3744">构建全局透明代理网关，接管家庭所有流量。</p>
</li>
</ul>
<hr data-start="3746" data-end="3749">
<h2 data-start="3751" data-end="3759">总结与点评</h2>
<p data-start="3761" data-end="3874">本文详细梳理了在 Ubuntu 系统中安装、配置并运行 Clash 的完整流程，并结合旁路由的概念做出了系统化的讲解。无论你是希望为自己创建一个快速高效的代理系统，还是想在局域网内部署旁路由节点，这篇指南都能提供强有力的支持。</p>
<blockquote data-start="3876" data-end="3994">
<p data-start="3878" data-end="3994"><strong data-start="3878" data-end="3885">点评：</strong><br>
“Clash 是一把锋利的剑，而 Ubuntu 是你可以完全驾驭的武器库。旁路由并不只是网络技术的炫技，而是通往一个自由互联网世界的理性选择。真正的技术，不该只服务于极客，而应被每一个有信息平权诉求的人所掌握。”</p>
</blockquote>
<p data-start="3996" data-end="4044" data-is-last-node="" data-is-only-node="">选择自由，选择掌控自己的网络。愿你在这个过程中，不仅获得工具的力量，更获得连接世界的勇气与信心。</p>                </div>
                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-119280.htm">2021年终极指南：如何寻找并稳定使用永久V2Ray节点</a></p>
                                        <p>下一个：<a href="/news/article-119881.htm">天路科学上网软件全攻略：从下载到精通的一站式指南</a></p>
                                    </div>
                                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-118043.htm" title="海角科学上网全攻略：技术原理、实操步骤与优化技巧详解">海角科学上网全攻略：技术原理、实操步骤与优化技巧详解</a></li>
                        <li class="py-2"><a href="/news/article-111633.htm" title="闪电狼CLASH全面指南：精通战术与策略，制胜游戏巅峰">闪电狼CLASH全面指南：精通战术与策略，制胜游戏巅峰</a></li>
                        <li class="py-2"><a href="/news/article-110830.htm" title="完整指南：最新版Clash的安装、配置与使用技巧">完整指南：最新版Clash的安装、配置与使用技巧</a></li>
                        <li class="py-2"><a href="/news/article-116153.htm" title="深度解读Clash官网及全方位使用指南：开启智能代理新时代">深度解读Clash官网及全方位使用指南：开启智能代理新时代</a></li>
                        <li class="py-2"><a href="/news/article-115245.htm" title="我的世界Clash全攻略：在沙盒与策略的交汇处统治战场">我的世界Clash全攻略：在沙盒与策略的交汇处统治战场</a></li>
                        <li class="py-2"><a href="/news/article-118663.htm" title="如何启动V2Ray：从安装到配置的完整实操指南">如何启动V2Ray：从安装到配置的完整实操指南</a></li>
                        <li class="py-2"><a href="/news/article-113428.htm" title="从零开始：用 VSSPanel 一键搭建 V2Ray 后端的完整实战指南">从零开始：用 VSSPanel 一键搭建 V2Ray 后端的完整实战指南</a></li>
                        <li class="py-2"><a href="/news/article-120820.htm" title="制霸战场！《Clash》星光等级全方位养成指南与高阶战术解析">制霸战场！《Clash》星光等级全方位养成指南与高阶战术解析</a></li>
                        <li class="py-2"><a href="/news/article-115851.htm" title="Clash没网了怎么办？一次性解决代理打开却断网的深层问题">Clash没网了怎么办？一次性解决代理打开却断网的深层问题</a></li>
                        <li class="py-2"><a href="/news/article-110826.htm" title="网件6300科学上网详尽指南：从安装到优化全方位解析">网件6300科学上网详尽指南：从安装到优化全方位解析</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">4</span> <a href="/date/2025-06/" title="2025-06 归档">2025-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">34</span> <a href="/date/2025-05/" title="2025-05 归档">2025-05</a></h4>
            </li>
                    </ul>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>
    <!-- about sectuion end -->
        <!-- copyright section start -->
    <div class="copyright_section">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                                        <p>
                                                <a href="/">首页</a> |
                                                <a href="/paid-subscribe/">推荐机场</a> |
                                                <a href="/news/">新闻资讯</a> |
                                                <a href="/client.htm">客户端</a> |
                                                <a href="/about-us.htm">关于我们</a> |
                        <a href="/disclaimer.htm">免责申明</a> |
                        <a href="/privacy.htm">隐私申明</a> |
                        <a href="/sitemap.xml">网站地图</a>
                    </p>
                    <p class="copyright_text">
                            VPN百科 订阅教程网 版权所有
                            <br />
                            Powered by WordPress
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright section end -->
    <!-- Javascript files-->
    <script src="/assets/website/js/frontend/clashnodesfree/jquery.min.js"></script>
    <script src="/assets/website/js/frontend/clashnodesfree/popper.min.js"></script>
    <script src="/assets/website/js/frontend/clashnodesfree/bootstrap.bundle.min.js"></script>
    <script src="/assets/website/js/frontend/clashnodesfree/jquery-3.0.0.min.js"></script>
    <script src="/assets/website/js/frontend/clashnodesfree/plugin.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script><script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>